# ğŸ”§ è§£å†³ GitHub æ¨é€å¤§æ–‡ä»¶é—®é¢˜

## âŒ é—®é¢˜æè¿°

æ¨é€å¤±è´¥ï¼Œå› ä¸º Git å†å²ä¸­åŒ…å«è¶…è¿‡ 100MB çš„å¤§æ–‡ä»¶ï¼š
- `frontend/node_modules/.cache/default-development/11.pack` (108.71 MB)
- `frontend/node_modules/.cache/default-development/3.pack` (95.66 MB)

## âœ… è§£å†³æ–¹æ¡ˆ

### æ–¹æ³•ä¸€ï¼šä» Git å†å²ä¸­ç§»é™¤å¤§æ–‡ä»¶ï¼ˆå·²å®Œæˆï¼‰

æˆ‘å·²ç»æ‰§è¡Œäº†ä»¥ä¸‹æ“ä½œï¼š

1. âœ… æ›´æ–°äº† `.gitignore`ï¼Œæ·»åŠ äº† `node_modules/.cache/` è§„åˆ™
2. âœ… ä½¿ç”¨ `git filter-branch` ä»å†å²ä¸­ç§»é™¤äº†å¤§æ–‡ä»¶
3. âœ… æ¸…ç†äº† Git å¼•ç”¨å’Œåƒåœ¾å›æ”¶

### æ–¹æ³•äºŒï¼šå¼ºåˆ¶æ¨é€ï¼ˆéœ€è¦æ‰§è¡Œï¼‰

ç”±äºé‡å†™äº† Git å†å²ï¼Œéœ€è¦å¼ºåˆ¶æ¨é€ï¼š

```bash
git push -u origin master --force
```

âš ï¸ **é‡è¦æç¤º**ï¼š
- è¿™ä¼šè¦†ç›–è¿œç¨‹ä»“åº“çš„å†å²
- å¦‚æœå…¶ä»–äººå·²ç»å…‹éš†äº†ä»“åº“ï¼Œä»–ä»¬éœ€è¦é‡æ–°å…‹éš†
- ç¡®ä¿è¿™æ˜¯ä½ æƒ³è¦çš„æ“ä½œ

### æ–¹æ³•ä¸‰ï¼šå¦‚æœæ–¹æ³•äºŒå¤±è´¥ï¼Œä½¿ç”¨ BFG Repo-Cleanerï¼ˆå¤‡é€‰ï¼‰

å¦‚æœ `git filter-branch` æ²¡æœ‰å®Œå…¨è§£å†³é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ BFGï¼š

```bash
# å®‰è£… BFGï¼ˆéœ€è¦ Javaï¼‰
# macOS: brew install bfg
# æˆ–ä¸‹è½½ï¼šhttps://rtyley.github.io/bfg-repo-cleaner/

# åˆ é™¤å¤§æ–‡ä»¶
bfg --strip-blobs-bigger-than 50M

# æ¸…ç†
git reflog expire --expire=now --all
git gc --prune=now --aggressive

# å¼ºåˆ¶æ¨é€
git push -u origin master --force
```

## ğŸ“‹ éªŒè¯æ­¥éª¤

æ¨é€å‰éªŒè¯ï¼š

```bash
# 1. æ£€æŸ¥æ˜¯å¦è¿˜æœ‰å¤§æ–‡ä»¶
git rev-list --objects --all | git cat-file --batch-check='%(objecttype) %(objectname) %(objectsize) %(rest)' | awk '/^blob/ && $3 > 100000000 {print $3/1024/1024 " MB - " $4}'

# åº”è¯¥æ²¡æœ‰è¾“å‡ºï¼Œæˆ–åªæœ‰å¿…è¦çš„å¤§æ–‡ä»¶
```

## ğŸš€ æ‰§è¡Œæ¨é€

```bash
# å¼ºåˆ¶æ¨é€ï¼ˆä¼šè¦†ç›–è¿œç¨‹å†å²ï¼‰
git push -u origin master --force
```

## âš ï¸ å¦‚æœä»ç„¶å¤±è´¥

å¦‚æœå¼ºåˆ¶æ¨é€ä»ç„¶å¤±è´¥ï¼Œå¯èƒ½éœ€è¦ï¼š

1. **å®Œå…¨é‡æ–°å¼€å§‹**ï¼ˆå¦‚æœè¿™æ˜¯æ–°ä»“åº“ï¼‰ï¼š
   ```bash
   # åˆ é™¤è¿œç¨‹ä»“åº“ï¼Œé‡æ–°åˆ›å»º
   # ç„¶åé‡æ–°æ¨é€
   ```

2. **ä½¿ç”¨ Git LFS**ï¼ˆå¦‚æœç¡®å®éœ€è¦å¤§æ–‡ä»¶ï¼‰ï¼š
   ```bash
   git lfs install
   git lfs track "*.pack"
   git add .gitattributes
   git commit -m "Add Git LFS tracking"
   ```

3. **åˆ†æ‰¹æ¨é€**ï¼ˆä¸æ¨èï¼Œå¤æ‚ï¼‰

## âœ… æ¨é€æˆåŠŸå

è®¿é—®ä»“åº“ç¡®è®¤ï¼š
- https://github.com/github653224/intelligent-test-platform

ç¡®è®¤æ‰€æœ‰æ–‡ä»¶éƒ½å·²æ­£ç¡®ä¸Šä¼ ï¼Œä¸”æ²¡æœ‰å¤§æ–‡ä»¶è­¦å‘Šã€‚

---

**ç°åœ¨è¿è¡Œ `git push -u origin master --force` å³å¯ï¼** ğŸš€

